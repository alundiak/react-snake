(this["webpackJsonp@lundiak/react-snake"]=this["webpackJsonp@lundiak/react-snake"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(8),o=n.n(r),s=(n(14),n(2)),i=n(7),u=n(9),l=n(0);function d(e){var t=e.gameTrigger,n=e.boardState,c=e.y,a=e.x,r=function(){var e=Object(u.a)(n.snake),t=e[0],r=e.slice(1),o=c===t[0]&&a===t[1],s=r.some((function(e){return c===e[0]&&a===e[1]}));return o?"snake head":s?"snake tail":""},o="".concat(c===n.targetPoint[0]&&a===n.targetPoint[1]?"target":""," ").concat(r());return Object(l.jsx)("div",{className:"point ".concat(o),onClick:function(){return r()?null:t([c,a])},children:j(c,a)})}function j(e,t){return 0===e?"x"+t:0===t?"y"+e:""}n(16);var b={boardSize:[8,8],targetPoint:[2,3],snake:[[4,5]],started:!1,finished:!1,conflict:!1};function g(e){for(var t=e.children,n=Object(c.useReducer)(f,b),a=Object(i.a)(n,2),r=a[0],o=a[1],s=r.boardSize[0],u=r.boardSize[1],j=function(e){console.log("gameTrigger"),r.started||o({type:"START"});!function(e,t,n){var c=e.snake[0];console.log(c,t);var a=Object(i.a)(t,2),r=a[0],o=a[1];if(r===c[0]&&o<c[1]){var s=c[1]-1,u=function(){console.log("callback"),n([r,s]),s--};console.log(s),setTimeout(u,500)}o===c[1]&&c[0]}(r,e,(function(e){return o({type:"SNAKE_MOVE",newPosition:e})}))},g=[],O=0;O<s;O++)for(var T=0;T<u;T++)g.push(Object(l.jsx)(d,{gameTrigger:j,boardState:r,y:O,x:T},"cell-x[".concat(T,"]-y[").concat(O,"]")));return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"wrapper",children:g}),t]})}function f(e,t){switch(t.type){case"START":return console.log("Game STARTED"),Object(s.a)(Object(s.a)({},e),{},{started:!0});case"FINISH":return console.log("Game FINISHED"),Object(s.a)(Object(s.a)({},e),{},{started:!1});case"SNAKE_MOVE":return console.log("Snake is MOVING"),e.snake[0]=t.newPosition,Object(s.a)({},e);case"CONFLICT_WITH_TARGET":case"CONFLICT_WITH_ITSELF":case"CONFLICT_WITH_EDGES":break;default:return e}}function O(){return Object(l.jsx)(g,{})}n(17);var T=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("header",{className:""}),Object(l.jsx)("main",{children:Object(l.jsx)(O,{})})]})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(T,{})}),document.getElementById("root")),h()}},[[18,1,2]]]);
//# sourceMappingURL=main.9e5f55fd.chunk.js.map